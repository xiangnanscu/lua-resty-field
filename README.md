# lua-resty-field
Clean the value via a field object you defined.

# Requirements
[lua-resty-validator](https://github.com/openresty/lua-resty-validator)

# Synopsis
to be filled.
# class
## basefield
class basefield defines common options and validate logic for all field classes.
### field.required
`true` or `false`. Specify whether value should be provided for this field.
### field.null
`true` or `false`. Specify whether value could be NULL when saved to database.
### field.name
`string`. The corresponding database column name for this field.
### field.label
`string`. Name used as form label. `field.name` will be used if not provided.
### field.default
`any`. default value when method `field.lua_to_db` is called. If it's a function, returned value of `field.default()` is used, otherwise `field.default` is used.
### field.error_messages
`table`. Custom the error messages.
### field.validators
`table`. Should be a table like `{client_to_lua:{...}, lua_to_db:{...}, db_to_lua:{...}, lua_to_client:{...}}` where `{...}` should be a list of [validators](https://github.com/xiangnanscu/lua-resty-validator). You can also define validators like `{...}` which is equivalent to `{client_to_lua:{...}}`.
### field.get_empty_value_to_update
`method`. If an empty value(usually empty string) is provided for this field, what value should be actually sent to database.
### field.choices
`function` or `table`. Valid value list for this field. Standard form is like `{{value='v1', label='l1'},{value='v2', label='l2'}, ...}`. You could define a simple form like `{'v1', 'v2'}` which is equivalent to `{{value='v1', label='v1'},{value='v2', label='v2'}`. You could also define it as a function which should return choices in standard form.
### field.(client_to_lua|lua_to_db|db_to_lua|lua_to_client)
`function`. Core validation logic of the field. If not provided, it will be generated by validators.
### field._options
shallow copy of the table passed to `field.new` method.

## string
### string.(maxlength|minlength|length)
`number`. define max length/min length/length of this field. You **must** define at least one of them.
### string.trim
`true` or `false`. Default is `true`.
### string.no_spaces
`true` or `false`. Whether delete all whitespaces in this field. Default is `false`.
## integer
## float
## datetime
## date
## time
## json
## array
## table
## foreignkey
## boolean
## alioss
